{
    "type": "array",
    "properties": [
        {
            "key": "cluster",
            "description": "cluster properties",
            "type": "array",
            "properties": [
                {
                    "key": "name",
                    "type": "string",
                    "label": "Name",
                    "description": "The name of the application",
                    "default": "MongoDB Shard Cluster",
                    "required": "no"
                },
                {
                    "key": "description",
                    "type": "string",
                    "label": "Description",
                    "description": "The description of the application",
                    "default": "",
                    "required": "no"
                },
                {
                    "key": "vxnet",
                    "label": "VxNet",
                    "description": "The vxnet that the application will join",
                    "type": "string",
                    "default": "",
                    "required": "yes"
                },{
                    "key": "resource_group",
                    "label": "Express Configuration",
                    "description": "Test: CPU * 1, Memory 2G, Mongos * 2, Config Server * 3, Shard * 2, Replica * 2; Prod: CPU * 2, Memory 8G, Mongos * 2, Config Server * 3, Shard * 2, Replica * 2",
                    "type": "string",
                    "default": "Test",
                    "range": [
                          "Test",
                          "Prod"
                      ]
                },{
                    "key": "cs_node",
                    "description": "Properties for config server node",
                    "label": "Config Server Node",
                    "type": "array",
                    "properties": [
                        {
                            "key": "instance_class",
                            "label": "Instance Class",
                            "description": "The instance type for the config server node",
                            "type": "integer",
                            "default": 101,
                            "range": [101],
                            "required": "yes",
                            "resource_group": [101, 101]
                        },
                        {
                            "key": "cpu",
                            "label": "CPU",
                            "description": "CPUs of each node",
                            "type": "integer",
                            "range": [1, 2, 4, 8, 16, 32, 64],
                            "default": 1,
                            "required": "yes",
                            "resource_group": [1, 1]
                        },
                        {
                            "key": "memory",
                            "description": "Memory of each node",
                            "label": "Memory",
                            "type": "integer",
                            "range": [
                                1024,
                                2048,
                                4096,
                                8192,
                                16384,
                                32768,
                                65536,
                                131072,
                                262144
                              ],
                            "default": 2048,
                            "required": "yes",
                            "resource_group": [2048, 2048]
                        },
                        {
                            "key": "volume_class",
                            "label": "Volume Class",
                            "description": "The volume type for each node",
                            "type": "integer",
                            "range": [2, 5, 100, 200],
                            "default": 0,
                            "required": "yes",
                            "resource_group": [100, 100]
                        },
                        {
                            "key": "volume_size",
                            "label": "Volume Size",
                            "description": "The volume size for each instance",
                            "type": "integer",
                            "default": 20,
                            "min": 20,
                            "step": 20,
                            "required": "yes"
                        },
                        {
                            "key": "count",
                            "label": "Node Count",
                            "description": "Number of nodes to be created",
                            "type": "integer",
                            "min": 3,
                            "max": 3,
                            "default": 3,
                            "readonly": "yes",
                            "required": "yes"
                        }
                    ]
                },
                {
                    "key": "shard_node",
                    "description": "Properties for shard node",
                    "label": "Shard Node",
                    "type": "array",
                    "properties": [
                        {
                            "key": "instance_class",
                            "label": "Instance Class",
                            "description": "The instance type for the shard node",
                            "type": "integer",
                            "default": 101,
                            "range": [101, 202],
                            "required": "yes",
                            "resource_group": [101, 202]
                        },
                        {
                            "key": "cpu",
                            "label": "CPU",
                            "description": "CPUs of each node",
                            "type": "integer",
                            "range": [1, 2, 4, 8, 16, 32, 64],
                            "default": 1,
                            "required": "yes",
                            "resource_group": [1, 2]
                        },
                        {
                            "key": "memory",
                            "description": "Memory of each node",
                            "label": "Memory",
                            "type": "integer",
                            "range": [
                                1024,
                                2048,
                                4096,
                                8192,
                                16384,
                                32768,
                                65536,
                                131072,
                                262144
                              ],
                            "default": 2048,
                            "required": "yes",
                            "resource_group": [2048, 8192]
                        },
                        {
                            "key": "volume_class",
                            "label": "Volume Class",
                            "description": "The volume type for each node",
                            "type": "integer",
                            "range": [2, 5, 100, 200],
                            "default": 0,
                            "required": "yes",
                            "resource_group": [100, 200]
                        },
                        {
                            "key": "volume_size",
                            "label": "Volume Size",
                            "description": "The volume size for each instance",
                            "type": "integer",
                            "default": 200,
                            "min": 200,
                            "step": 50,
                            "required": "yes"
                        },
                        {
                            "key": "count",
                            "label": "Node Count",
                            "description": "Number of nodes to be created",
                            "type": "integer",
                            "min": 1,
                            "max": 10,
                            "default": 2,
                            "required": "yes"
                        },
                        {
                            "key": "replica",
                            "label": "Replica",
                            "description": "The replica number of the node",
                            "type": "integer",
                            "default": 2,
                            "min": 2,
                            "max": 2,
                            "readonly": "yes",
                            "required": "yes"
                        }
                    ]
                },
                {
                    "key": "mongos_node",
                    "description": "Properties for mongos node",
                    "label": "Mongos Node",
                    "type": "array",
                    "properties": [
                        {
                            "key": "instance_class",
                            "label": "Instance Class",
                            "description": "The instance type for the Mongos node",
                            "type": "integer",
                            "default": 101,
                            "range": [101, 202],
                            "required": "yes",
                            "resource_group": [101, 202]
                        },
                        {
                            "key": "cpu",
                            "label": "CPU",
                            "description": "CPUs of each node",
                            "type": "integer",
                            "range": [1, 2, 4, 8, 16, 32, 64],
                            "default": 1,
                            "required": "yes",
                            "resource_group": [1, 2]
                        },
                        {
                            "key": "memory",
                            "description": "Memory of each node",
                            "label": "Memory",
                            "type": "integer",
                            "range": [
                                1024,
                                2048,
                                4096,
                                8192,
                                16384,
                                32768,
                                65536,
                                131072,
                                262144
                              ],
                            "default": 2048,
                            "required": "yes",
                            "resource_group": [2048, 8192]
                        },
                        {
                            "key": "volume_class",
                            "label": "Volume Class",
                            "description": "The volume type for each node",
                            "type": "integer",
                            "range": [2, 5, 100, 200],
                            "default": 0,
                            "required": "yes",
                            "resource_group": [100, 200]
                        },
                        {
                            "key": "volume_size",
                            "label": "Volume Size",
                            "description": "The volume size for each instance",
                            "type": "integer",
                            "default": 10,
                            "min": 10,
                            "step": 10,
                            "required": "yes"
                        },
                        {
                            "key": "count",
                            "label": "Node Count",
                            "description": "Number of nodes to be created",
                            "type": "integer",
                            "min": 1,
                            "max": 10,
                            "default": 2,
                            "required": "yes"
                        }
                    ]
                }
            ]
        },
        {
            "key": "env",
            "description": "Application configuration properties",
            "type": "array",
            "properties": [
                {
                    "key": "conf.userPass",
                    "label": "User root's Password",
                    "description": "must contain a combination of uppercase and lowercase letters and numbers, special characters can be used (except the $ and `symbols), and the length is between 8-32",
                    "type": "password",
                    "pattern": "^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z!@#\\%\\^&\\*\\(\\)\\_\\+\\{\\}\\[\\]\\;\\:\\'\\,\\.\\/\\<\\>\\?]{8,32}$",
                    "default": "Passw0rd",
                    "required": "yes"
                },
                {
                    "key": "conf.storage.engine",
                    "label": "storage.engine",
                    "description": "storage.engine",
                    "type": "string",
                    "default": "wiredTiger",
                    "range": ["wiredTiger"],
                    "changeable": false,
                    "required": "no"
                },
                {
                    "key": "mongos_node",
                    "description": "The role configuration properties of the application",
                    "type": "array",
                    "properties": [{
                        "key": "conf.net.port",
                        "label": "net.port.mongos",
                        "description": "mongos' net port: cannot be set to 27099, the recommended value range: 29000~29900",
                        "type": "integer",
                        "default": 27018,
                        "pattern": "^(?!27099)(102[4-9]|10[3-9]\\d|1[1-9]\\d\\d|[2-9]\\d{3}|[1-5]\\d{4}|6[0-4]\\d{3}|65[0-4]\\d{2}|655[0-2]\\d|6553[0-5])$",
                        "required": "no"
                    }, {
                        "key": "conf.setParameter.cursorTimeoutMillis",
                        "label": "setParameter.cursorTimeoutMillis.mongos",
                        "description": "mongos' cursor timeout(ms)",
                        "type": "integer",
                        "default": 600000,
                        "required": "no"
                    }]
                },
                {
                    "key": "cs_node",
                    "description": "The role configuration properties of the application",
                    "type": "array",
                    "properties": [{
                        "key": "conf.net.port",
                        "label": "net.port.cs_node",
                        "description": "cs_node's net port: cannot be set to 27099, the recommended value range: 29000~29900",
                        "type": "integer",
                        "default": 27019,
                        "pattern": "^(?!27099)(102[4-9]|10[3-9]\\d|1[1-9]\\d\\d|[2-9]\\d{3}|[1-5]\\d{4}|6[0-4]\\d{3}|65[0-4]\\d{2}|655[0-2]\\d|6553[0-5])$",
                        "changeable": false,
                        "required": "no"
                    }, {
                        "key": "conf.setParameter.cursorTimeoutMillis",
                        "label": "setParameter.cursorTimeoutMillis.cs_node",
                        "description": "cs_node's cursor timeout(ms)",
                        "type": "integer",
                        "default": 600000,
                        "required": "no"
                    }, {
                        "key": "conf.operationProfiling.mode",
                        "label": "operationProfiling.mode.cs_node",
                        "description": "cs_node's operation profiling mode",
                        "type": "string",
                        "range": ["off", "slowOp", "all"],
                        "default": "off",
                        "required": "no"
                    }, {
                        "key": "conf.operationProfiling.slowOpThresholdMs",
                        "label": "operationProfiling.slowOpThresholdMs.cs_node",
                        "description": "cs_node's operation profiling slowOp threshold(ms)",
                        "type": "integer",
                        "default": 100,
                        "required": "no"
                    }, {
                        "key": "conf.replication.oplogSizeMB",
                        "label": "replication.oplogSizeMB.cs_node",
                        "description": "cs_node's replication oplogSize(MB)",
                        "type": "integer",
                        "default": 2048,
                        "required": "no"
                    }]
                },
                {
                    "key": "shard_node",
                    "description": "The role configuration properties of the application",
                    "type": "array",
                    "properties": [{
                        "key": "conf.net.port",
                        "label": "net.port.shard_node",
                        "description": "shard_node's net port: cannot be set to 27099, the recommended value range: 29000~29900",
                        "type": "integer",
                        "default": 27018,
                        "pattern": "^(?!27099)(102[4-9]|10[3-9]\\d|1[1-9]\\d\\d|[2-9]\\d{3}|[1-5]\\d{4}|6[0-4]\\d{3}|65[0-4]\\d{2}|655[0-2]\\d|6553[0-5])$",
                        "changeable": false,
                        "required": "no"
                    }, {
                        "key": "conf.setParameter.cursorTimeoutMillis",
                        "label": "setParameter.cursorTimeoutMillis.shard_node",
                        "description": "shard_node's cursor timeout(ms)",
                        "type": "integer",
                        "default": 600000,
                        "required": "no"
                    }, {
                        "key": "conf.operationProfiling.mode",
                        "label": "operationProfiling.mode.shard_node",
                        "description": "shard_node's operation profiling mode",
                        "type": "string",
                        "range": ["off", "slowOp", "all"],
                        "default": "off",
                        "required": "no"
                    }, {
                        "key": "conf.operationProfiling.slowOpThresholdMs",
                        "label": "operationProfiling.slowOpThresholdMs.shard_node",
                        "description": "shard_node's operation profiling slowOp threshold(ms)",
                        "type": "integer",
                        "default": 100,
                        "required": "no"
                    }, {
                        "key": "conf.replication.enableMajorityReadConcern",
                        "label": "replication.enableMajorityReadConcern.shard_node",
                        "description": "shard_node's replication enableMajorityReadConcern",
                        "type": "string",
                        "default": "true",
                        "range": ["true", "false"],
                        "required": "no"
                    }, {
                        "key": "conf.replication.oplogSizeMB",
                        "label": "replication.oplogSizeMB.shard_node",
                        "description": "shard_node's replication oplogSize(MB)",
                        "type": "integer",
                        "default": 2048,
                        "required": "no"
                    }]
                }
            ]
        }
    ]
}